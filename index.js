/**
 * |简·陋| 并列计算器
 * @version 1.10226.0
 * @license GPL-3.0-or-later
 * @link https://github.com/simple-and-crude/setcalc
 */
!function(exp){(()=>{var e={937:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cmplxRtn=t.doCalc=t.setValue=t.valueTxt=t.valueSet=t.setOpera=t.nodeList=t.operaTxt=t.operaSet=t.width=void 0;const r=n(68);function o(e,n){t.valueTxt[e]=n,t.valueSet[e]=(0,r.ths)(` ${(0,r.reps)(n,["\n","\r","\t","\b"],[" "," "," "," "])} `).slice(1,-1).split(" ")}let s,l,i;t.width=1,t.operaSet={},t.operaTxt={},t.nodeList=[],t.setOpera=function(e,n){if("string"==typeof n){const o=document.createElement("script");o.innerHTML=`\n\t\t\tcalc.setOpera("${(0,r.rep)(e,'"','\\"')}", ${n});\n\t\t\tdocument.head.removeChild(calc.nodeList[${t.nodeList.push(o)-1}]);\n\t\t`,document.head.appendChild(o),t.operaTxt[e]=n}else t.operaSet[e]=n},t.valueSet={},t.valueTxt={},t.setValue=o;const u=[];function c(e){if(!e)return[];const n=(0,r.default)(e).split(" "),c=[],p=t.width;let f;if(f=function(e){let n=0,r={};s=[];for(let o=0;o<e.length;++o){let l=e[o].slice(2);if("C"===e[o][0]){if("~"!==l&&void 0===t.valueSet[l])return`变量 "${l}" 未定义`;++n,"~"===l||r[l]||(r[l]=!0,s.push(l))}else{if(void 0===t.operaSet[l])return`运算 "${l}" 未定义`;if("function"!=typeof t.operaSet[l])return`运算 "${l}" 不是一个函数`;if((n-=2)<0)return`运算 "${l}" 缺少操作数`;++n}}return 1!==n?`共缺少 ${n} 处运算`:""}(n))return[`<span class="redSp">解析错误!</span> ${f}`];for(l=t.width-1;l>=0;--l)u[l]=[];for(i=0;i<n.length;++i)for(f=n[i].slice(2),l=0;l<t.width;++l)if("C"===n[i][0])u[l].push("~"===f?f:t.valueSet[f][l]);else{let e=u[l].pop(),n=u[l].pop();u[l].push(t.operaSet[f]("~"===n?e:n,e))}for(l=t.width-1;l>=0;--l)c.push(u[l][0]);for(;f=s.pop();)o(f,t.valueTxt[f]);return t.width=p,c}t.doCalc=c,t.default=c;const p=[];function f(e,t,n){let o=[e];const s=t%2?(t--,[n,o]):[n];for(;t>0;)t/=2,o=o.concat(o),t%2&&(s.push(o),t--);return(0,r.apply)([],p.concat,s)}t.cmplxRtn=function(e){const n=arguments.length>1?arguments:e,o=n.length-1,i=[l,0];let c;for(let e=0;e<o;++e)c=u[l].slice(),c.push(n[e]),i.push(c);for(let e=s.length-1;e>=0;--e)(0,r.apply)(t.valueSet[s[e]],p.splice,f(t.valueSet[s[e]][l],o,[l,0]));return(0,r.apply)(u,p.splice,i),t.width+=o,l+=o,n[o]}},657:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.tool=t.calc=t.rpnify=void 0;const r=n(68);t.rpnify=r;const o=n(937);t.calc=o;const s=n(746);t.tool=s;const l=n(937);t.default=l.default},68:(e,t)=>{"use strict";function n(e,t,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2]);default:return t.apply(e,n)}}function r(e,t,n){return-1!==e.indexOf(t)?e.split(t).join(n):e}function o(e,t,n){return t.length?o(r(e,t.pop(),n.pop()),t,n):e}function s(e){return-1===e.indexOf("   ")?r(e,"  "," "):s(r(e,"  "," "))}function l(e){return s(" "+o(e,[")","("," )","( ","\n","\r","\t","\b","~"],[") "," (",")","("," "," "," "," "," ~ "])+" ")}function i(e){const t=function(e){const t=[];let n=e.length,r=0;for(let o=n-1;o>=0;--o)r?"("===e[o]?--r||(t.push(i(e.slice(1+o--,n+1))),n=o):")"===e[o]&&r++:")"===e[o]?(n=o-1,r++):" "===e[o]&&(t.push(e.slice(o+1,n)),n=o);return t.reverse()}(l(e));t.pop();const r="string"==typeof t[0]?["C_"+t[0]]:t[0];for(let e=1;e<t.length;e+=2)"string"==typeof t[e+1]?r.push("C_"+t[e+1]):n(r,r.push,t[e+1]),r.push("O_"+t[e]);return r}function u(e){return i(e).join(" ")}Object.defineProperty(t,"__esModule",{value:!0}),t.rpnify=t.fmt=t.ths=t.reps=t.rep=t.apply=void 0,t.apply=n,t.rep=r,t.reps=o,t.ths=s,t.fmt=l,t.rpnify=u,t.default=u},746:(e,t)=>{"use strict";function n(e){return"object"==typeof e&&isFinite(e.length)}Object.defineProperty(t,"__esModule",{value:!0}),t.weedArr=t.copyObj=t.copyObjs=t.jsonPack=t.isArrlike=void 0,t.isArrlike=n;const{stringify:r,parse:o}=JSON;function s(e){if("object"!=typeof e)return e;if(n(e)){const t=[];for(let n=0;n<e.length;n++)t.push(e[n]);return t}{const t={};for(const n in e)t[n]="object"==typeof e[n]?s(e[n]):e[n];return t}}t.jsonPack=function(e){return(t,n)=>r(n&&"~"!==n?e(o(t),o(n)):e(o(t)))},t.copyObjs=function(e,t){const n=[];for(let r=t-1;r>=0;--r)n.push(s(e));return n},t.copyObj=s,t.weedArr=function(e,t){const n=[];for(let r=0;r<e.length;++r)e[r]===t||n.push(e[r]);return n}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}(()=>{var e=n(657);if(!1===exp){for(var t=["calc","rpnify"],r=t.length;r>=0;--r)window[t[r]]=e[t[r]];for(var r in e.tool)window[r]=e.tool[r];window.setcalc=e}else exp.exports=e})()})();}(typeof module==="undefined"?false:module)